Feature: all existing bookings can be viewed and new bookings can be done

  Scenario: client makes call to fetch all bookings
    When the client calls GET all bookings URL /api/hike/v1/bookings
    Then the client receives status code for fetch all bookings 200
    And the client receives all bookings json response "{\"_embedded\":{\"bookingList\":[{\"id\":1,\"trailId\":1,\"hikingDate\":\"2021-08-27\",\"hikers\":[{\"hid\":1,\"name\":\"Vijay\",\"dateOfBirth\":\"1992-09-14\",\"ageAppropriateForHiking\":true,\"alert\":\"None\",\"age\":28},{\"hid\":2,\"name\":\"Ram\",\"dateOfBirth\":\"2001-09-14\",\"ageAppropriateForHiking\":true,\"alert\":\"None\",\"age\":19}],\"recordCreateTimestampUtc\":\"2021-08-27T15:17:12.436+00:00\",\"recordLastUpdateTimestampUtc\":\"2021-08-27T15:17:12.436+00:00\",\"status\":\"SUCCESS\",\"bookedTrailDetails\":{\"id\":1,\"name\":\"Shire\",\"startAt\":\"07:00\",\"endAt\":\"09:00\",\"minimumAge\":5,\"maximumAge\":100,\"unitPrice\":29.9},\"totalCost\":0.0,\"_links\":{\"self\":{\"href\":\"http://localhost:8080/api/hike/v1/bookings/1\"},\"bookings\":{\"href\":\"http://localhost:8080/api/hike/v1/bookings\"}}},{\"id\":2,\"trailId\":2,\"hikingDate\":\"2021-08-27\",\"hikers\":[{\"hid\":3,\"name\":\"Vijay\",\"dateOfBirth\":\"1992-09-14\",\"ageAppropriateForHiking\":true,\"alert\":\"None\",\"age\":28},{\"hid\":4,\"name\":\"Ram\",\"dateOfBirth\":\"2001-09-14\",\"ageAppropriateForHiking\":true,\"alert\":\"None\",\"age\":19}],\"recordCreateTimestampUtc\":\"2021-08-27T15:17:12.476+00:00\",\"recordLastUpdateTimestampUtc\":\"2021-08-27T15:17:12.476+00:00\",\"status\":\"SUCCESS\",\"bookedTrailDetails\":{\"id\":2,\"name\":\"Gondor\",\"startAt\":\"10:00\",\"endAt\":\"13:00\",\"minimumAge\":11,\"maximumAge\":50,\"unitPrice\":59.9},\"totalCost\":0.0,\"_links\":{\"self\":{\"href\":\"http://localhost:8080/api/hike/v1/bookings/2\"},\"bookings\":{\"href\":\"http://localhost:8080/api/hike/v1/bookings\"}}},{\"id\":3,\"trailId\":3,\"hikingDate\":\"2021-08-27\",\"hikers\":[{\"hid\":5,\"name\":\"Vijay\",\"dateOfBirth\":\"1992-09-14\",\"ageAppropriateForHiking\":true,\"alert\":\"None\",\"age\":28},{\"hid\":6,\"name\":\"Ram\",\"dateOfBirth\":\"2001-09-14\",\"ageAppropriateForHiking\":true,\"alert\":\"None\",\"age\":19}],\"recordCreateTimestampUtc\":\"2021-08-27T15:17:12.479+00:00\",\"recordLastUpdateTimestampUtc\":\"2021-08-27T15:17:12.479+00:00\",\"status\":\"SUCCESS\",\"bookedTrailDetails\":{\"id\":3,\"name\":\"Mordor\",\"startAt\":\"14:00\",\"endAt\":\"19:00\",\"minimumAge\":18,\"maximumAge\":40,\"unitPrice\":99.9},\"totalCost\":0.0,\"_links\":{\"self\":{\"href\":\"http://localhost:8080/api/hike/v1/bookings/3\"},\"bookings\":{\"href\":\"http://localhost:8080/api/hike/v1/bookings\"}}}]},\"_links\":{\"self\":{\"href\":\"http://localhost:8080/api/hike/v1/bookings\"}}}"
    
  Scenario: client makes call to fetch one single booking by id
    When the client calls GET one booking URL /api/hike/v1/bookings/1
    Then the client receives status code fetch one booking 200
    And the client receives one booking json response "{\"id\":1,\"trailId\":1,\"hikingDate\":\"2021-08-27\",\"hikers\":[{\"hid\":1,\"name\":\"Vijay\",\"dateOfBirth\":\"1992-09-14\",\"ageAppropriateForHiking\":true,\"alert\":\"None\",\"age\":28},{\"hid\":2,\"name\":\"Ram\",\"dateOfBirth\":\"2001-09-14\",\"ageAppropriateForHiking\":true,\"alert\":\"None\",\"age\":19}],\"recordCreateTimestampUtc\":\"2021-08-27T15:17:12.436+00:00\",\"recordLastUpdateTimestampUtc\":\"2021-08-27T15:17:12.436+00:00\",\"status\":\"SUCCESS\",\"bookedTrailDetails\":{\"id\":1,\"name\":\"Shire\",\"startAt\":\"07:00\",\"endAt\":\"09:00\",\"minimumAge\":5,\"maximumAge\":100,\"unitPrice\":29.9},\"totalCost\":0.0,\"_links\":{\"self\":{\"href\":\"http://localhost:8080/api/hike/v1/bookings/1\"},\"bookings\":{\"href\":\"http://localhost:8080/api/hike/v1/bookings\"}}}"
    
  Scenario: client makes call to make new booking
    When the client calls POST new booking URL /api/hike/v1/booktrail with request payload "{\"trailId\":1,\"hikingDate\":\"2022-08-26\",\"hikers\":[{\"name\":\"Vijay\",\"dateOfBirth\":\"1992-09-14\"},{\"name\":\"Ram\",\"dateOfBirth\":\"2005-09-14\"}]}"
    Then the client receives status code for new booking 201
    And the client receives new booking response "{\"id\":4,\"trailId\":1,\"hikingDate\":\"2022-08-26\",\"hikers\":[{\"hid\":9,\"name\":\"Vijay\",\"dateOfBirth\":\"1992-09-14\",\"ageAppropriateForHiking\":true,\"alert\":\"None\",\"age\":28},{\"hid\":10,\"name\":\"Ram\",\"dateOfBirth\":\"2005-09-14\",\"ageAppropriateForHiking\":true,\"alert\":\"None\",\"age\":15}],\"recordCreateTimestampUtc\":\"2021-08-27T15:38:38.848+00:00\",\"recordLastUpdateTimestampUtc\":\"2021-08-27T15:38:38.848+00:00\",\"status\":\"SUCCESS\",\"bookedTrailDetails\":{\"id\":1,\"name\":\"Shire\",\"startAt\":\"07:00\",\"endAt\":\"09:00\",\"minimumAge\":5,\"maximumAge\":100,\"unitPrice\":29.9},\"totalCost\":59.8,\"_links\":{\"self\":{\"href\":\"http://localhost:8080/api/hike/v1/bookings/5\"},\"bookings\":{\"href\":\"http://localhost:8080/api/hike/v1/bookings\"}}}"
    
  Scenario: client makes call to cancel the booking by id
    When the client calls PUT cancel booking URL /api/hike/v1/cancelBooking/1 
    Then the client receives status code for cancel booking 200
    And the client receives cancel booking response "{\"id\":1,\"trailId\":1,\"hikingDate\":\"2021-08-27\",\"hikers\":[{\"hid\":1,\"name\":\"Vijay\",\"dateOfBirth\":\"1992-09-14\",\"ageAppropriateForHiking\":true,\"alert\":\"None\",\"age\":28},{\"hid\":2,\"name\":\"Ram\",\"dateOfBirth\":\"2001-09-14\",\"ageAppropriateForHiking\":true,\"alert\":\"None\",\"age\":19}],\"recordCreateTimestampUtc\":\"2021-08-27T17:12:34.373+00:00\",\"recordLastUpdateTimestampUtc\":\"2021-08-27T17:14:08.211+00:00\",\"status\":\"CANCELLED\",\"bookedTrailDetails\":{\"id\":1,\"name\":\"Shire\",\"startAt\":\"07:00\",\"endAt\":\"09:00\",\"minimumAge\":5,\"maximumAge\":100,\"unitPrice\":29.9},\"totalCost\":0,\"_links\":{\"self\":{\"href\":\"http://localhost:8080/api/hike/v1/cancelBooking/1\"},\"bookings\":{\"href\":\"http://localhost:8080/api/hike/v1/bookings\"}}}"
    
    
    
    